# Stacks v1.0.0

|                | **Owner**                           |
| -------------- |-------------------------------------|
| **Created By** | @raress96 <rares.serban@buidly.com> |
| **Deployment** | @raress96 <rares.serban@buidly.com> |

| **Network**          | **Deployment Status** | **Date**  |
| -------------------- |-----------------------|-----------|
| **Devnet Amplifier** | Deployed              | 2025-05-0 |
| **Testnet**          | -                     | TBD       |
| **Mainnet**          | -                     | TBD       |

## Background

Changes in the release:

This is the v1.0.0 initial release.

### Pre-requisites

Create a new **Stacks contracts deployer account** that will be used to deploy the contracts. Make sure to save the mnemonic for this account!

Ensure that the [Stacks CosmWasm Axelar contracts](../cosmwasm/2025-05-Stacks-v1.0.0.md) are deployed on the Axelar Network before deploying the Stacks contracts.
Use the above Stacks contracts deployer account address where needed.

## Deployment

Check out the [Axelar Stacks Bridge](https://github.com/Trust-Machines/axelar_stacks_bridge/tree/master) repository and deploy the contracts using [Clarinet](https://docs.hiro.so/stacks/clarinet), using the appropriate deployment plan.

Make sure to update the values used when calling the `setup` functions with appropriate ones.
For the Gateway add proper `signers`, `operator`, `domain-separator`, `minimum-rotation-delay` and `previous-signers-retention`.
For the Interchain Token Service add proper `trusted-chain-names-addresses` and `hub-chain`.
For the Governance add proper `governance-chain` and `governance-address`.

More instructions in that repository.

Then add the Stacks chain config to the `${ENV}.json` file under `chains` key.

```bash
"stacks": {
  "name": "Stacks",
  "axelarId": "stacks",
  "tokenSymbol": "STX",
  "networkType": "testnet",
  "chainType": "stacks",
  "finality": "1",
  "decimals": 6,
  "approxFinalityWaitTime": 1,
  "explorer": {
    "name": "Stacks Explorer",
    "url": "https://explorer.hiro.so/?chain=testnet"
  },
  "contractsDeployerAddress": "[Stacks contracts deployer account address]"
}
```

## Checklist

The following checks should be performed after the rollout:

### Stacks → EVM GMP/ITS call

1. Send a GMP and ITS call

TODO:

2. Route GMP call via Amplifier

- https://docs.axelar.dev/dev/amplifier/chain-integration/relay-messages

3. Submit proof with multisig session id

```bash
# Change `PRIVATE_KEY and `ENV` in `.env` from Stacks to EVM
node evm/gateway.js -n [destination-chain] --action submitProof --multisigSessionId [multisig session id]
```

4. Confirm whether the message is approved

```bash
node evm/gateway.js -n [destination-chain] --action isContractCallApproved --commandID [command-id] --sourceChain $CHAIN --sourceAddress [source-address] --destination [destination-address] --payloadHash 0x1ac7d1b81b7ba1025b36ccb86723da6ee5a87259f1c2fd5abe69d3200b512ec8
```

### EVM → Stacks ITS call

1. Interchain Token Transfer for Native Interchain Token

```bash
node stacks/decode-address.js [stacks-address] # TODO:
node evm/its.js --action interchainTransfer -n [source-chain] --destinationChain $CHAIN --destinationAddress [decoded-recipient-address] --tokenId [token-id] --amount [amount]
```
