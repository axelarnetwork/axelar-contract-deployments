# Ampd v1.13.0

|                | **Owner**                         |
| -------------- | --------------------------------- |
| **Created By** | @cjcobb23 <cj@interoplabs.io>     |
| **Deployment** | TBD                               |

| **Network**          | **Deployment Status** | **Date** |
| -------------------- | --------------------- | -------- |
| **Devnet Amplifier** | -                     | TBD      |
| **Stagenet**         | -                     | TBD      |
| **Testnet**          | -                     | TBD      |
| **Mainnet**          | -                     | TBD      |

[Release](https://github.com/axelarnetwork/axelar-amplifier/releases/tag/ampd-v1.13.0)

## Background

This change supports parsing Solana gateway events emitted via CPI. A config change related to the solana handlers is necessary.

## Config change

Add `gateway_address` to each Solana handler entry. The value should match the Axelar gateway on Solana on the corresponding network.

Set the below environment variables to populate the config correctly:

```sh
ENV=<devnet-custom|devnet-amplifier|stagenet|testnet|mainnet>
CHAIN=<solana-custom|solana>
SOLANA_GATEWAY=$(cat "./axelar-chains-config/info/${ENV}.json" | jq ".axelar.contracts.VotingVerifier[\"$CHAIN\"].sourceGatewayAddress" | tr -d '"')
SOLANA_VOTING_VERIFIER=$(cat "./axelar-chains-config/info/${ENV}.json" | jq ".axelar.contracts.VotingVerifier[\"$CHAIN\"].address" | tr -d '"')
```

```toml
[[handlers]]
type = 'SolanaMsgVerifier'
chain_name = $CHAIN
cosmwasm_contract = $SOLANA_VOTING_VERIFIER
rpc_url = https://api.$CLUSTER.solana.com
gateway_address = $SOLANA_GATEWAY

[[handlers]]
type = 'SolanaVerifierSetVerifier'
chain_name = $CHAIN
cosmwasm_contract = $SOLANA_VOTING_VERIFIER
rpc_url = https://api.$CLUSTER.solana.com
gateway_address = $SOLANA_GATEWAY
```

## Deployment

Restart `ampd` with the new binary and new config. Binaries can be found at [axelar-amplifier/releases/tag/ampd-v1.13.0](https://github.com/axelarnetwork/axelar-amplifier/releases/tag/ampd-v1.13.0).

### Checklist

Run the below command to output the version:

```sh
$ ampd --version
ampd 1.13.0
```

Check `ampd` logs to ensure it restarts fine. Monitor voting and signing for your verifier on axelarscan to verify it's operating correctly.
